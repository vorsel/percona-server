CREATE TABLE t1(id INT);
INSERT INTO t1 VALUES (1);
SELECT id AS foobar FROM t1 GROUP BY id LIMIT 1 INTO @id_var1 FOR UPDATE;
SELECT id AS foobar FROM t1 GROUP BY id LIMIT 1 FOR UPDATE INTO @id_var2;
SELECT id AS foobar FROM t1 GROUP BY id LIMIT 1 INTO @id_var3;
SELECT @id_var1, @id_var2, @id_var3;
@id_var1	@id_var2	@id_var3
1	1	1
SELECT id AS foobar FROM t1 GROUP BY id LIMIT 1 INTO @id_var4 FOR UPDATE INTO @id_var5;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INTO @id_var5' at line 1
SELECT id AS foobar FROM t1 GROUP BY id LIMIT 1 FOR UPDATE INTO @id_var2 FOR UPDATE;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR UPDATE' at line 1
SELECT 1 FROM t1 INTO @var5 UNION SELECT 2 FROM t1 WHERE id = 2;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNION SELECT 2 FROM t1 WHERE id = 2' at line 1
SELECT 1 FROM t1 WHERE id = 2 UNION SELECT 2 FROM t1 INTO @var5;
SELECT 1 FROM t1 WHERE id = 2 UNION SELECT 2 FROM t1 FOR UPDATE INTO @var6;
SELECT 1 FROM t1 WHERE id = 2 UNION SELECT 2 FROM t1 INTO @var7 FOR UPDATE;
SELECT @var5, @var6, @var7;
@var5	@var6	@var7
2	2	2
WITH
qt1 AS (SELECT id FROM t1),
qt2 AS (SELECT id AS id2 FROM t1)
SELECT id FROM qt1 JOIN qt2
WHERE qt1.id = qt2.id2 FOR UPDATE INTO @var8;
WITH
qt1 AS (SELECT id FROM t1),
qt2 AS (SELECT id AS id2 FROM t1)
SELECT id FROM qt1 JOIN qt2
WHERE qt1.id = qt2.id2 INTO @var9 FOR UPDATE;
WITH
qt1 AS (SELECT id FROM t1),
qt2 AS (SELECT id AS id2 FROM t1)
SELECT id FROM qt1 JOIN qt2
WHERE qt1.id = qt2.id2 INTO @var10;
DROP TABLE t1;
